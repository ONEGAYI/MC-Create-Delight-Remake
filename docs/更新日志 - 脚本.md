# 更新日志 - Kubejs 等游戏修改脚本


## v1.3.4

### 喷气背包便捷充能
新增通过背罐为喷气背包充能的交互脚本。

**新增脚本:**
- `server_scripts/SuiAn's scripts/interactions/conveniently_fuel_jetpack.js`
  - 空手潜行右键背罐即可为背包内的喷气背包充能
  - 支持物品栏和Curios饰品栏中的喷气背包检测
  - 支持扩容附魔的容量计算
  - 包含调试日志控制开关（`debugMode`常量）
  - 支持下界合金背罐和铜背罐
  - 充能时播放粒子效果并显示友好提示

### 调试棒工具
新增开发者调试工具，用于查看方块和实体的详细信息。

**新增脚本:**
- `startup_scripts/SuiAn's scripts/items/debug_stick.js`
  - 注册调试棒物品（史诗级稀有度）
- `server_scripts/SuiAn's scripts/interactions/debug_stick.js`
  - 右击方块显示：BlockID、BlockTags、BlockState、BlockEntity、BlockEntityData
  - 右击实体显示：EntityType、EntityNBT
  - 所有信息支持点击复制到剪贴板

**修复内容:**
- 修复扩容附魔NBT键名识别问题（兼容`Enchantments`/`enchantments`）
- 修复Curios饰品栏物品ID匹配逻辑
- 修复饰品栏物品更新后消失的bug（改用KubeJS API）
- 为铜背罐事件处理器添加缺失的server对象声明

## v1.3.3

### Create Ender Transmission 限制
禁用 Create Ender Transmission 的所有传输器配方。

**新增脚本:**
- `server_scripts/SuiAn's scripts/recipes/Create Ender Transmission/ban_transmitter.js`
  - 使用正则表达式删除所有传输器配方（能量、流体、物品）
  - 限制玩家使用跨维度/无距离限制的传输功能

## v1.3.2

### 命令拦截增强
新增阻止玩家使用游戏规则命令的脚本。

**新增脚本:**
- `server_scripts/SuiAn's scripts/commands/ban_gamerule_command.js`
  - 封禁玩家使用 `/gamerule` 命令修改游戏规则
  - 仅允许控制台执行 gamerule 命令
  - 提供友好的提示音和文字反馈

## v1.3.1

### 命令系统重构
重构服务器命令控制系统，统一管理员权限管理。

**新增脚本:**
- `server_scripts/SuiAn's scripts/commands/ban_locate_command.js`
  - 封禁玩家使用 `/locate` 命令查找结构
  - 鼓励使用罗盘和自然探索
  - 提供友好的提示音和文字反馈
  - 支持管理员通过 `sudo` 命令绕过限制

- `server_scripts/SuiAn's scripts/commands/sudo_commands_registry.js`
  - 统一的管理员命令入口（仅 OP Level 2+ 可用）
  - `sudo gamemode creative` - 强制获取创造模式
  - `sudo locate <结构>` - 绕过限制使用 locate 命令
  - 使用 persistentData 标志实现智能白名单机制

**优化改进:**
- `server_scripts/SuiAn's scripts/commands/block_creative_gamemode.js`
  - 移除重复的 sudo 命令注册代码
  - 提取到独立的 `sudo_commands_registry.js` 中
  - 保持原有的拦截功能和后门机制

## v1.3.0

## v1.2.4 游戏规则增强
### 命令权限控制
新增阻止玩家切换创造游戏模式的脚本。

**改动内容:**
- 新增 `server_scripts/SuiAn's scripts/commands/block_creative_gamemode.js` 脚本
- 拦截玩家创造模式的 `/gamemode` 命令尝试（仅在专用服务器生效）

## Date 2025-12-24
### 原版生物生成禁用
新增原版幻翼(Phantom)的生成禁用

**改动内容:**
- 新增 `server_scripts/SuiAn's scripts/mob_control/phantom_prevent_summon.js` 脚本
- 禁用幻翼生成

## Date 2025-12-23
### 生物生成逻辑更新
更改 Alex's Mobs 中的生物生成逻辑

**改动内容:**
- 使用 `server_scripts/SuiAn's scripts/mob_control/alexsmobs_prevent_summon.js` 统一管理
- 禁用苍蝇、蜈蚣、轻语灵、蟑螂、蟑螂卵的生成